<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-downsides-of-offline-first" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Downsides of Local First / Offline First | RxDB - JavaScript Database</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rxdb.info/img/rxdb_social_card.png"><meta data-rh="true" name="twitter:image" content="https://rxdb.info/img/rxdb_social_card.png"><meta data-rh="true" property="og:url" content="https://rxdb.info/downsides-of-offline-first.html"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Downsides of Local First / Offline First | RxDB - JavaScript Database"><meta data-rh="true" name="description" content="Discover the hidden pitfalls of local-first apps. Learn about storage limits, conflicts, and real-time illusions before building your offline solution."><meta data-rh="true" property="og:description" content="Discover the hidden pitfalls of local-first apps. Learn about storage limits, conflicts, and real-time illusions before building your offline solution."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://rxdb.info/downsides-of-offline-first.html"><link data-rh="true" rel="alternate" href="https://rxdb.info/downsides-of-offline-first.html" hreflang="en"><link data-rh="true" rel="alternate" href="https://rxdb.info/downsides-of-offline-first.html" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-62D63SY3S0"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-62D63SY3S0",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-PL63TR5",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>





<link rel="icon" type="image/svg+xml" href="/files/logo/logo.svg">
<link rel="apple-touch-icon" href="/img/apple-touch-icon.png" sizes="180x180"><link rel="stylesheet" href="/assets/css/styles.7c07b926.css">
<script src="/assets/js/runtime~main.4cc48f2e.js" defer="defer"></script>
<script src="/assets/js/main.f109cf2f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PL63TR5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/files/logo/logo_text_white.svg"><link rel="preload" as="image" href="./files/safari-database.png"><link rel="preload" as="image" href="./files/document-replication-conflict.svg"><link rel="preload" as="image" href="./files/latency-london-san-franzisco.png"><link rel="preload" as="image" href="./files/cap-theorem.png"><link rel="preload" as="image" href="./files/no-relational-data.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M-1.90735e-06 20.0001L20 20.0001V16.0001L-1.90735e-06 16.0001V20.0001Z" fill="white"></path><path d="M-1.90735e-06 12.0001L20 12.0001V8.00006L-1.90735e-06 8.00006V12.0001Z" fill="white"></path><path d="M-1.90735e-06 4L20 4V0L-1.90735e-06 0V4Z" fill="white"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/files/logo/logo_text_white.svg" alt="RxDB" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/files/logo/logo_text_white.svg" alt="RxDB" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/overview.html">Docs</a><a class="navbar__item navbar__link" href="/replication.html">Sync</a><a class="navbar__item navbar__link" href="/rx-storage.html">Storages</a><a class="navbar__item navbar__link" href="/premium/">Premium</a><a class="navbar__item navbar__link" href="/consulting/">Support</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="/chat/" class="navbar__item navbar__link navbar-icon navbar__item navbar-icon-discord" target="_blank"> </a><a href="/code/" class="navbar__item navbar__link navbar-icon navbar__item navbar-icon-github" target="_blank"> </a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="navbar-line" style="position:fixed;left:0;z-index:10;height:1.5px;width:100vw;background-color:var(--color-top);border-top-right-radius:2px;border-bottom-right-radius:2px;transform-origin:left center;will-change:transform;backface-visibility:hidden;contain:layout;transform:scaleX(0)"></div><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/overview.html"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/overview.html"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/quickstart.html"><span title="ðŸš€ Quickstart" class="linkLabel_WmDU">ðŸš€ Quickstart</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/install.html"><span title="Installation" class="linkLabel_WmDU">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev-mode.html"><span title="Development Mode" class="linkLabel_WmDU">Development Mode</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/typescript.html"><span title="TypeScript Setup" class="linkLabel_WmDU">TypeScript Setup</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-database.html"><span title="Core Entities" class="categoryLinkLabel_W154">Core Entities</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-storage.html"><span title="ðŸ’¾ Storages" class="categoryLinkLabel_W154">ðŸ’¾ Storages</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/schema-validation.html"><span title="Storage Wrappers" class="categoryLinkLabel_W154">Storage Wrappers</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/replication.html"><span title="ðŸ”„ Replication" class="categoryLinkLabel_W154">ðŸ”„ Replication</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-server.html"><span title="Server" class="categoryLinkLabel_W154">Server</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/transactions-conflicts-revisions.html"><span title="How RxDB works" class="categoryLinkLabel_W154">How RxDB works</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/migration-schema.html"><span title="Advanced Features" class="categoryLinkLabel_W154">Advanced Features</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-storage-performance.html"><span title="Performance" class="categoryLinkLabel_W154">Performance</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/releases/16.0.0.html"><span title="Releases" class="categoryLinkLabel_W154">Releases</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/articles/browser-database.html"><span title="Articles" class="categoryLinkLabel_W154">Articles</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/browser-database.html"><span title="Benefits of RxDB &amp; Browser Databases" class="linkLabel_WmDU">Benefits of RxDB &amp; Browser Databases</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/local-first-future.html"><span title="Why Local-First Software Is the Future and its Limitations" class="linkLabel_WmDU">Why Local-First Software Is the Future and its Limitations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/why-nosql.html"><span title="Why NoSQL Powers Modern UI Apps" class="linkLabel_WmDU">Why NoSQL Powers Modern UI Apps</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/downsides-of-offline-first.html"><span title="Downsides of Local First / Offline First" class="linkLabel_WmDU">Downsides of Local First / Offline First</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nodejs-database.html"><span title="RxDB - The Real-Time Database for Node.js" class="linkLabel_WmDU">RxDB - The Real-Time Database for Node.js</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/offline-first.html"><span title="Local First / Offline First" class="linkLabel_WmDU">Local First / Offline First</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-database.html"><span title="React Native Database - Sync &amp; Store Like a Pro" class="linkLabel_WmDU">React Native Database - Sync &amp; Store Like a Pro</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/angular-database.html"><span title="RxDB as a Database in an Angular Application" class="linkLabel_WmDU">RxDB as a Database in an Angular Application</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/browser-storage.html"><span title="Browser Storage - RxDB as a Database for Browsers" class="linkLabel_WmDU">Browser Storage - RxDB as a Database for Browsers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/data-base.html"><span title="Empower Web Apps with Reactive RxDB Data-base" class="linkLabel_WmDU">Empower Web Apps with Reactive RxDB Data-base</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/embedded-database.html"><span title="Embedded Database, Real-time Speed - RxDB" class="linkLabel_WmDU">Embedded Database, Real-time Speed - RxDB</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/flutter-database.html"><span title="Supercharge Flutter Apps with the RxDB Database" class="linkLabel_WmDU">Supercharge Flutter Apps with the RxDB Database</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/frontend-database.html"><span title="RxDB - The Ultimate JS Frontend Database" class="linkLabel_WmDU">RxDB - The Ultimate JS Frontend Database</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/in-memory-nosql-database.html"><span title="RxDB In-Memory NoSQL - Supercharge Real-Time Apps" class="linkLabel_WmDU">RxDB In-Memory NoSQL - Supercharge Real-Time Apps</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/ionic-database.html"><span title="RxDB - The Perfect Ionic Database" class="linkLabel_WmDU">RxDB - The Perfect Ionic Database</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/ionic-storage.html"><span title="RxDB - Local Ionic Storage with Encryption, Compression &amp; Sync" class="linkLabel_WmDU">RxDB - Local Ionic Storage with Encryption, Compression &amp; Sync</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/json-database.html"><span title="RxDB - The JSON Database Built for JavaScript" class="linkLabel_WmDU">RxDB - The JSON Database Built for JavaScript</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/websockets-sse-polling-webrtc-webtransport.html"><span title="WebSockets vs Server-Sent-Events vs Long-Polling vs WebRTC vs WebTransport" class="linkLabel_WmDU">WebSockets vs Server-Sent-Events vs Long-Polling vs WebRTC vs WebTransport</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/localstorage.html"><span title="Using localStorage in Modern Applications - A Comprehensive Guide" class="linkLabel_WmDU">Using localStorage in Modern Applications - A Comprehensive Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/mobile-database.html"><span title="Real-Time &amp; Offline - RxDB for Mobile Apps" class="linkLabel_WmDU">Real-Time &amp; Offline - RxDB for Mobile Apps</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/progressive-web-app-database.html"><span title="RxDB as a Database for Progressive Web Apps (PWA)" class="linkLabel_WmDU">RxDB as a Database for Progressive Web Apps (PWA)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/react-database.html"><span title="RxDB as a Database for React Applications" class="linkLabel_WmDU">RxDB as a Database for React Applications</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/realtime-database.html"><span title="What Really Is a Realtime Database?" class="linkLabel_WmDU">What Really Is a Realtime Database?</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/angular-indexeddb.html"><span title="Build Smarter Offline-First Angular Apps - How RxDB Beats IndexedDB Alone" class="linkLabel_WmDU">Build Smarter Offline-First Angular Apps - How RxDB Beats IndexedDB Alone</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/react-indexeddb.html"><span title="IndexedDB Database in React Apps - The Power of RxDB" class="linkLabel_WmDU">IndexedDB Database in React Apps - The Power of RxDB</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/capacitor-database.html"><span title="Capacitor Database Guide - SQLite, RxDB &amp; More" class="linkLabel_WmDU">Capacitor Database Guide - SQLite, RxDB &amp; More</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/alternatives.html"><span title="Alternatives for realtime local-first JavaScript applications and local databases" class="linkLabel_WmDU">Alternatives for realtime local-first JavaScript applications and local databases</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/electron-database.html"><span title="Electron Database - Storage adapters for SQLite, Filesystem and In-Memory" class="linkLabel_WmDU">Electron Database - Storage adapters for SQLite, Filesystem and In-Memory</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/optimistic-ui.html"><span title="Building an Optimistic UI with RxDB" class="linkLabel_WmDU">Building an Optimistic UI with RxDB</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/local-database.html"><span title="What is a Local Database and Why RxDB is the Best Local Database for JavaScript Applications" class="linkLabel_WmDU">What is a Local Database and Why RxDB is the Best Local Database for JavaScript Applications</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/react-native-encryption.html"><span title="React Native Encryption and Encrypted Database/Storage" class="linkLabel_WmDU">React Native Encryption and Encrypted Database/Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/vue-database.html"><span title="RxDB as a Database in a Vue.js Application" class="linkLabel_WmDU">RxDB as a Database in a Vue.js Application</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/vue-indexeddb.html"><span title="IndexedDB Database in Vue Apps - The Power of RxDB" class="linkLabel_WmDU">IndexedDB Database in Vue Apps - The Power of RxDB</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/jquery-database.html"><span title="RxDB as a Database in a jQuery Application" class="linkLabel_WmDU">RxDB as a Database in a jQuery Application</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/firestore-alternative.html"><span title="RxDB - Firestore Alternative to Sync with Your Own Backend" class="linkLabel_WmDU">RxDB - Firestore Alternative to Sync with Your Own Backend</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/firebase-realtime-database-alternative.html"><span title="RxDB - Firebase Realtime Database Alternative to Sync With Your Own Backend" class="linkLabel_WmDU">RxDB - Firebase Realtime Database Alternative to Sync With Your Own Backend</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/offline-database.html"><span title="RxDB â€“ The Ultimate Offline Database with Sync and Encryption" class="linkLabel_WmDU">RxDB â€“ The Ultimate Offline Database with Sync and Encryption</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/zero-latency-local-first.html"><span title="Zero Latency Local First Apps with RxDB â€“ Sync, Encryption and Compression" class="linkLabel_WmDU">Zero Latency Local First Apps with RxDB â€“ Sync, Encryption and Compression</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/indexeddb-max-storage-limit.html"><span title="IndexedDB Max Storage Size Limit - Detailed Best Practices" class="linkLabel_WmDU">IndexedDB Max Storage Size Limit - Detailed Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/json-based-database.html"><span title="JSON-Based Databases - Why NoSQL and RxDB Simplify App Development" class="linkLabel_WmDU">JSON-Based Databases - Why NoSQL and RxDB Simplify App Development</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/articles/reactjs-storage.html"><span title="ReactJS Storage - From Basic LocalStorage to Advanced Offline Apps with RxDB" class="linkLabel_WmDU">ReactJS Storage - From Basic LocalStorage to Advanced Offline Apps with RxDB</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contribution.html"><span title="Contribute" class="linkLabel_WmDU">Contribute</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/consulting/"><span title="Contact" class="categoryLinkLabel_W154">Contact</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Downsides of Local First / Offline First</h1></header>
<p>So you have read <a class="" href="/offline-first.html">all these things</a> about how the <a class="" href="/articles/local-first-future.html">local-first</a> (aka offline-first) paradigm makes it easy to create realtime web applications that even work when the user has no internet connection.
But there is no free lunch. The offline first paradigm is not the perfect approach for all kinds of apps.</p>
<div style="border-left:2px solid var(--color-top);padding-left:1rem;padding-top:0.5rem;padding-bottom:0.5rem;margin-top:30px;margin-bottom:30px"><div style="display:flex;gap:5px"><div><svg xmlns="http://www.w3.org/2000/svg" width="10" height="15" viewBox="0 0 10 15" fill="none"><path d="M5 5V0H0V5V10V15H5H10V5H5Z" fill="#ED168F"></path></svg></div><div><svg xmlns="http://www.w3.org/2000/svg" width="10" height="15" viewBox="0 0 10 15" fill="none"><path d="M5 5V0H0V5V10V15H5H10V5H5Z" fill="#ED168F"></path></svg></div></div><div style="display:flex;align-items:flex-start;gap:0.5rem"><p style="margin:0">You fully understood a technology when you know when <b>not</b> to use it</p></div><div style="display:flex;justify-content:flex-end;gap:5px"><div style="display:flex;justify-content:flex-end;gap:5px"><div><svg xmlns="http://www.w3.org/2000/svg" width="10" height="15" viewBox="0 0 10 15" fill="none"><path d="M5 0H0V5V10H5V15H10V10V5V0H5Z" fill="#ED168F"></path></svg></div><div><svg xmlns="http://www.w3.org/2000/svg" width="10" height="15" viewBox="0 0 10 15" fill="none"><path d="M5 0H0V5V10H5V15H10V10V5V0H5Z" fill="#ED168F"></path></svg></div></div></div><p style="margin-top:0.75rem;margin-bottom:0;text-align:right;font-size:0.9rem">â€“<!-- --> <a href="https://github.com/pubkey" target="_blank" rel="noopener noreferrer">Daniel</a>, 2024</p></div>
<p>In the following I will point out the limitations you need to know before you decide to use <a href="https://github.com/pubkey/rxdb" target="_blank" rel="noopener noreferrer" class="">RxDB</a> or even before you decide to create an offline first application.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="it-only-works-with-small-datasets">It only works with small datasets<a href="#it-only-works-with-small-datasets" class="hash-link" aria-label="Direct link to It only works with small datasets" title="Direct link to It only works with small datasets" translate="no">â€‹</a></h2>
<p>Making data available offline means it must be loaded from the server and then stored at the clients device.
You need to load the full dataset on the first pageload and on every ongoing load you need to download the new changes to that set.
While in theory you could download in infinite amount of data, in practice you have a limit how long the user can wait before having an up-to-date state.
You want to display chat messages like Whatsapp? No problem. Syncing all the messages a user could write, can be done with a few HTTP requests.
Want to make a tool that displays server logs? Good luck downloading terabytes of data to the client just to search for a single string. This will not work.</p>
<p>Besides the network usage, there is another limit for the size of your data.
In browsers you have some options for storage: Cookies, <a class="" href="/articles/localstorage.html">Localstorage</a>, <a class="" href="/articles/localstorage-indexeddb-cookies-opfs-sqlite-wasm.html#what-was-websql">WebSQL</a> and <a class="" href="/rx-storage-indexeddb.html">IndexedDB</a>.</p>
<p>Because Cookies and <a class="" href="/articles/localstorage.html">Localstorage</a> is slow and WebSQL is deprecated, you will use IndexedDB.
The <a class="" href="/articles/indexeddb-max-storage-limit.html">limit of how much data you can store in IndexedDB</a> depends on two factors: Which browser is used and how much disc space is left on the device. You can assume that at least a couple of <a href="https://web.dev/storage-for-the-web/" target="_blank" rel="noopener noreferrer" class="">hundred megabytes</a> are available at least. The maximum is potentially hundreds of gigabytes or more, but the browser implementations vary. Chrome allows the browser to use up to 60% of the total disc space per origin. Firefox allows up to 50%. But on safari you can only store up to 1GB and the browser will prompt the user on each additional 200MB increment.</p>
<p>The problem is, that you have no chance to really predict how much data can be stored. So you have to make assumptions that are hopefully true for all of your users. Also, you have no way to increase that space like you would add another hard drive to your backend server. Once your clients reach the limit, you likely have to rewrite big parts of your applications.</p>
<p>UPDATE (2023): Newer versions of browsers can store way more data, for example firefox stores up to 10% of the total disk size. For an overview about how much can be stored, read <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage_API/Storage_quotas_and_eviction_criteria" target="_blank" rel="noopener noreferrer" class="">this guide</a></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="browser-storage-is-not-really-persistent">Browser storage is not really persistent<a href="#browser-storage-is-not-really-persistent" class="hash-link" aria-label="Direct link to Browser storage is not really persistent" title="Direct link to Browser storage is not really persistent" translate="no">â€‹</a></h2>
<p>When data is stored inside IndexedDB or one of the other storage APIs, it cannot be trusted to stay there forever.
Apple for example deletes the data when the website was not used in the <a href="https://webkit.org/blog/10218/full-third-party-cookie-blocking-and-more/" target="_blank" rel="noopener noreferrer" class="">last 7 days</a>. The other browsers also have logic to clean up the stored data, and in the end the user itself could be the one that deletes the browsers local data.</p>
<p>The most common way to handle this, is to replicate everything from the backend to the client again.
Of course, this does not work for state that is not stored at the backend. So if you assume you can store the users private data inside the browser in a secure way, you are <a href="https://medium.com/universal-ethereum/out-of-gas-were-shutting-down-unilogin-3b544838df1a#4f60" target="_blank" rel="noopener noreferrer" class="">wrong</a>.</p>
<p align="center"><img src="./files/safari-database.png" alt="safari database" width="200"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="there-can-be-conflicts">There can be conflicts<a href="#there-can-be-conflicts" class="hash-link" aria-label="Direct link to There can be conflicts" title="Direct link to There can be conflicts" translate="no">â€‹</a></h2>
<p>Imagine two of your users modify the same JSON document, while both are offline. After they go online again, their clients replicate the modified document to the server. Now you have two conflicting versions of the same document, and you need a way to determine how the correct new version of that document should look like. This process is called <strong>conflict resolution</strong>.</p>
<p align="center"><img src="./files/document-replication-conflict.svg" alt="document replication conflict" width="250"></p>
<ol>
<li class="">
<p>The default in <a href="https://docs.couchdb.org/en/stable/replication/conflicts.html" target="_blank" rel="noopener noreferrer" class="">many</a> offline first databases is a deterministic conflict resolution strategy. Both conflicting versions of the document are kept in the storage and when you query for the document, a winner is determined by comparing the hashes of the document and only the winning document is returned. Because the comparison is deterministic, all clients and servers will always pick the same winner. This kind of resolution only works when it is not that important that one of the document changes gets dropped. Because conflicts are rare, this might be a viable solution for some use cases.</p>
</li>
<li class="">
<p>A better resolution can be applied by listening to the changestream of the database. The changestream emits an event each time a write happens to the database. The event contains information about the written document and also a flag if there is a conflicting version. For each event with a conflict, you fetch all versions for that document and create a new document that contains the winning state. With that you can implement pretty complex conflict resolution strategies, but you have to manually code it for each collection of documents.</p>
</li>
<li class="">
<p>Instead of the solving conflict once at every client, it can be made a bit easier by solely relying on the backend. This can be done when all of your clients replicate with the same single backend server. With <a class="" href="/replication-graphql.html">RxDB&#x27;s Graphql Replication</a> each client side change is sent to the server where conflicts can be resolved and the winning document can be sent back to the clients.</p>
</li>
<li class="">
<p>Sometimes there is no way to solve a conflict with code. If your users edit text based documents or images, often only the users themselves can decide how the winning revision has to look. For these cases, you have to implement complex UI parts where the users can inspect the conflict and manage its resolution.</p>
</li>
<li class="">
<p>You do not have to handle conflicts if they cannot happen in the first place. You can achieve that by designing a write only database where existing documents cannot be touched. Instead of storing the current state in a single document, you store all the events that lead to the current state. Sometimes called the <a href="https://pouchdb.com/guides/conflicts.html#accountants-dont-use-erasers" target="_blank" rel="noopener noreferrer" class="">&quot;everything is a delta&quot;</a> strategy, others would call it <a href="https://martinfowler.com/eaaDev/EventSourcing.html" target="_blank" rel="noopener noreferrer" class="">Event Sourcing</a>. Like an accountant that does not need an eraser, you append all changes and afterwards aggregate the current state at the client.</p>
</li>
</ol>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// create one new document for each change to the users balance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toJSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> change</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// balance increased by $100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toJSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> change</span><span class="token operator">:</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// balance decreased by $50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toJSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> change</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">200</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// balance increased by $200</span><br></span></code></pre></div></div>
<ol start="6">
<li class="">There is this thing called <strong>conflict-free replicated data type</strong>, short <strong>CRDT</strong>. Using a CRDT library like <a href="https://github.com/automerge/automerge" target="_blank" rel="noopener noreferrer" class="">automerge</a> will magically solve all of your conflict problems. Until you use it in production where you observe that implementing CRDTs has basically the same complexity as implementing conflict resolution strategies.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="realtime-is-a-lie">Realtime is a lie<a href="#realtime-is-a-lie" class="hash-link" aria-label="Direct link to Realtime is a lie" title="Direct link to Realtime is a lie" translate="no">â€‹</a></h2>
<p>So you replicate stuff between the clients and your backend. Each change on one side directly changes the state of the other sides in <strong>realtime</strong>. But this &quot;realtime&quot; is not the same as in <a href="https://en.wikipedia.org/wiki/Real-time_computing" target="_blank" rel="noopener noreferrer" class="">realtime computing</a>. In the offline first world, the word realtime was introduced by firebase and is more meant as a marketing slogan than a technical description.
There is an internet between your backend and your clients and everything you do on one machine takes at least once the latency until it can affect anything on the other machines. You have to keep this in mind when you develop anything where the timing is important, like a multiplayer game or a stock trading app.</p>
<p>Even when you run a query against the local database, there is no &quot;real&quot; realtime.
Client side databases run on JavaScript and JavaScript runs on a single CPU that might be partially blocked because the user is running some background processes. So you can never guarantee a response deadline which violates the time constraint of realtime computing.</p>
<p align="center"><img src="./files/latency-london-san-franzisco.png" alt="latency london san franzisco" width="300"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="eventual-consistency">Eventual consistency<a href="#eventual-consistency" class="hash-link" aria-label="Direct link to Eventual consistency" title="Direct link to Eventual consistency" translate="no">â€‹</a></h2>
<p>An offline first app does not have a single source of truth. There is a source on the backend, one on the own client, and also each other client has its own definition of truth. At the moment your user starts the app, the local state is hopefully already replicated with the backend and all other clients. But this does not have to be true, the states can have converged and you have to plan for that.
The user could update a document based on wrong assumptions because it was not fully replicated at that point in time because the user is offline. A good way to handle this problem is to show the replication state in the UI and tell the user when the replication is running, stopped, paused or finished.</p>
<p>And some data is just too important to be &quot;eventual consistent&quot;. Create a wire transfer in your online banking app while you are offline. You keep the smartphone laying at your night desk and when you use again in the next morning, it goes online and replicates the transaction. No thank you, do not use offline first for these kinds of things, or at least you have to display the replication state of each document in the UI.</p>
<p align="center"><img src="./files/cap-theorem.png" alt="CAP theorem" width="150"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="permissions-and-authentication">Permissions and authentication<a href="#permissions-and-authentication" class="hash-link" aria-label="Direct link to Permissions and authentication" title="Direct link to Permissions and authentication" translate="no">â€‹</a></h2>
<p>Every offline first app that goes beyond a prototype, does likely not have the same global state for all of its users. Each user has a different set of documents that are allowed to be replicated or seen by the user. So you need some kind of authentication and permission handling to divide the documents.
The easy way is to just create one database for each user on the backend and only allow to replicate that one. Creating that many databases is not really a problem with for example CouchDB, and it makes permission handling easy.
But as soon as you want to query all of your data in the backend, it will bite back. Your data is not at a single place, it is distributed between all of the user specific databases. This becomes even more complex as soon as you store information together with the documents that is not allowed to be seen by outsiders. You not only have to decide which documents to replicate, but also which fields of them.</p>
<p>So what you really want is a single datastore in the backend and then replicate only the allowed document parts to each of the users.
This always requires you to implement your custom replication endpoint like what you do with RxDBs <a class="" href="/replication-graphql.html">GraphQL Replication</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="you-have-to-migrate-the-client-database">You have to migrate the client database<a href="#you-have-to-migrate-the-client-database" class="hash-link" aria-label="Direct link to You have to migrate the client database" title="Direct link to You have to migrate the client database" translate="no">â€‹</a></h2>
<p>While developing your app, sooner or later you want to change the data layout. You want to add some new fields to documents or change the format of them. So you have to update the database schema and also migrate the stored documents.
With &#x27;normal&#x27; applications, this is already hard enough and often dangerous. You wait until midnight, stop the webserver, make a database backup, deploy the new schema and then you hope that nothing goes wrong while it updates that many documents.</p>
<p>With offline first applications, it is even more fun. You do not only have to migrate your local backend database, you also have to provide a <a class="" href="/migration-schema.html">migration strategy</a> for all of these client databases out there. And you also cannot migrate everything at the same time. The clients can only migrate when the new code was updated from the appstore or the user visited your website again. This could be today or in a few weeks.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-is-not-native">Performance is not native<a href="#performance-is-not-native" class="hash-link" aria-label="Direct link to Performance is not native" title="Direct link to Performance is not native" translate="no">â€‹</a></h2>
<p>When you create a web based offline first app, you cannot store data directly on the users filesystem. In fact there are many layers between your JavaScript code and the filesystem of the operation system. Let&#x27;s say you insert a document in <a href="https://github.com/pubkey/rxdb" target="_blank" rel="noopener noreferrer" class="">RxDB</a>:</p>
<ul>
<li class="">You call the RxDB API to validate and store the data</li>
<li class="">RxDB calls the underlying RxStorage, for example PouchDB.</li>
<li class="">Pouchdb calls its underlying storage adapter</li>
<li class="">The storage adapter calls IndexedDB</li>
<li class="">The browser runs its internal handling of the IndexedDB API</li>
<li class="">In most browsers IndexedDB is implemented on <a href="https://hackaday.com/2021/08/24/sqlite-on-the-web-absurd-sql/" target="_blank" rel="noopener noreferrer" class="">top of SQLite</a></li>
<li class="">SQLite calls the OS to store the data in the filesystem</li>
</ul>
<p>All these layers are abstractions. They are not build for exactly that one use case, so you lose some performance to tunnel the data through the layer itself, and you also lose some performance because the abstraction does not exactly provide the functions that are needed by the layer above and it will overfetch data.</p>
<p>You will not find a benchmark comparison between how many transactions per second you can run on the browser compared to a server based database. Because it makes no sense to compare them. Browsers are slower, JavaScript is slower.</p>
<blockquote>
<p><strong>Is it fast enough?</strong></p>
</blockquote>
<p>What you really care about is &quot;Is it fast enough?&quot;. For most use cases, the answer is <code>yes</code>. Offline first apps are UI based and you do not need to process a million transactions per second, because your user will not click the save button that often. &quot;Fast enough&quot; means that the data is processed in under 16 milliseconds so that you can render the updated UI in the next frame. This is of course not true for all use cases, so you better think about the performance limit before starting with the implementation.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="nothing-is-predictable">Nothing is predictable<a href="#nothing-is-predictable" class="hash-link" aria-label="Direct link to Nothing is predictable" title="Direct link to Nothing is predictable" translate="no">â€‹</a></h2>
<p>You have a PostgreSQL database and run a query over 1000ths of rows, which takes 200 milliseconds. Works great, so you now want to do something similar at the client device in your offline first app. How long does it take? You cannot know because people have different devices, and even equal devices have different things running in the background that slow the CPUs. So you cannot predict performance and as described above, you cannot even predict the storage limit. So if your app does heavy data analytics, you might better run everything on the backend and just send the results to the client.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="there-is-no-relational-data">There is no relational data<a href="#there-is-no-relational-data" class="hash-link" aria-label="Direct link to There is no relational data" title="Direct link to There is no relational data" translate="no">â€‹</a></h2>
<p>I started creating <a href="https://github.com/pubkey/rxdb" target="_blank" rel="noopener noreferrer" class="">RxDB</a> many years ago and while still maintaining it, I often worked with all these other offline first databases out there. RxDB and all of these other ones, are based on some kind of document databases similar to NoSQL. Often people want to have a relational database like the SQL one they use at the backend.</p>
<p>So why are there no real relations in offline first databases? I could answer with these arguments like how JavaScript works better with document based data, how performance is better when having no joins or even how NoSQL queries are more composable. But the truth is, everything is NoSQL because it makes replication easy. An SQL query that mutates data in different tables based on some selects and joins, cannot be partially replicated without breaking the client. You have foreign keys that point to other rows and if these rows are not replicated yet, you have a problem. To implement a robust <a class="" href="/replication.html">Sync Engine</a> for relational data, you need some stuff like a <a href="https://www.theverge.com/2012/11/26/3692392/google-spanner-atomic-clocks-GPS" target="_blank" rel="noopener noreferrer" class="">reliable atomic clock</a> and you have to block queries over multiple tables while a transaction replicated. <a href="https://youtu.be/iEFcmfmdh2w?t=607" target="_blank" rel="noopener noreferrer" class="">Watch this guy</a> implementing offline first replication on top of SQLite or read this <a href="https://github.com/supabase/supabase/discussions/357" target="_blank" rel="noopener noreferrer" class="">discussion</a> about implementing <a class="" href="/replication-supabase.html">offline first in supabase</a>.</p>
<p>So creating replication for an SQL offline first database is way more work than just adding some network protocols on top of PostgreSQL. It might not even be possible for clients that have no reliable clock.</p>
<p align="center"><img src="./files/no-relational-data.png" alt="no relational data" width="250"></p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/why-nosql.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Why NoSQL Powers Modern UI Apps</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/nodejs-database.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">RxDB - The Real-Time Database for Node.js</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#it-only-works-with-small-datasets" class="table-of-contents__link toc-highlight">It only works with small datasets</a></li><li><a href="#browser-storage-is-not-really-persistent" class="table-of-contents__link toc-highlight">Browser storage is not really persistent</a></li><li><a href="#there-can-be-conflicts" class="table-of-contents__link toc-highlight">There can be conflicts</a></li><li><a href="#realtime-is-a-lie" class="table-of-contents__link toc-highlight">Realtime is a lie</a></li><li><a href="#eventual-consistency" class="table-of-contents__link toc-highlight">Eventual consistency</a></li><li><a href="#permissions-and-authentication" class="table-of-contents__link toc-highlight">Permissions and authentication</a></li><li><a href="#you-have-to-migrate-the-client-database" class="table-of-contents__link toc-highlight">You have to migrate the client database</a></li><li><a href="#performance-is-not-native" class="table-of-contents__link toc-highlight">Performance is not native</a></li><li><a href="#nothing-is-predictable" class="table-of-contents__link toc-highlight">Nothing is predictable</a></li><li><a href="#there-is-no-relational-data" class="table-of-contents__link toc-highlight">There is no relational data</a></li></ul></div></div></div><ul style="margin-top:25px;list-style-type:none"><li style="line-height:4;color:var(--expo-theme-text-secondary)">Was this page helpful?<div style="border-radius:3px;border-color:var(--fontColor-offwhite);border-style:solid;border-width:1px;vertical-align:middle;padding:5px;padding-left:8px;padding-right:8px;text-align:center;justify-content:center;display:inline-flex;margin-left:20px;cursor:pointer"><img src="/img/thumbs-up-white.svg" loading="lazy" height="14"></div><div style="border-radius:3px;border-color:var(--fontColor-offwhite);border-style:solid;border-width:1px;vertical-align:middle;padding:5px;padding-left:8px;padding-right:8px;text-align:center;justify-content:center;display:inline-flex;margin-left:20px;cursor:pointer;transform:scale(1, -1)"><img src="/img/thumbs-up-white.svg" loading="lazy" height="14"></div></li><li><a href="/chat/" target="_blank" style="color:var(--fontColor-offwhite)"><img src="/img/community-links/discord-logo.svg" style="padding-right:16px;height:18px;vertical-align:middle" loading="lazy">Ask a question on the forums about <!-- -->Downsides of Local...</a></li></ul></div></main></div></div></div><div class="block footer dark"><div style="display:flex;flex-wrap:wrap;gap:44px" class="content"><div class="half left"><span><a variant="text" href="/" class="footer-logo-button"><img src="/files/logo/logo_text_white.svg" alt="RxDB" loading="lazy" class="width-140-120"></a><div class="footer-community-links"><a variant="text" href="/newsletter/" target="_blank" aria-label="Newsletter"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none"><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22.5 13.5v-7a2 2 0 0 0-2-2h-16a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"></path><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m22.5 7.5-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2.5 7.5M19.5 16.5v6M16.5 19.5h6"></path></svg></a><a variant="text" href="https://twitter.com/intent/user?screen_name=rxdbjs" target="_blank" aria-label="Twitter"><img src="/files/icons/twitter-blue.svg" alt="Twitter" loading="lazy"></a><a variant="text" href="https://www.linkedin.com/company/rxdb" target="_blank" aria-label="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 21"><g clip-path="url(#a)"><path fill="#fff" d="M17.3 17.6h-3V13c0-1 0-2.5-1.6-2.5-1.5 0-1.8 1.2-1.8 2.5v4.7H8V8h2.9v1.3a3 3 0 0 1 2.9-1.6c3 0 3.6 2 3.6 4.6zM4.5 6.6a1.7 1.7 0 1 1 0-3.5 1.7 1.7 0 0 1 0 3.5m1.5 11H3V8h3zM18.8.4H1.5A1.5 1.5 0 0 0 0 1.8v17.4a1.5 1.5 0 0 0 1.5 1.4h17.3a1.5 1.5 0 0 0 1.5-1.4V1.8A1.5 1.5 0 0 0 18.8.4"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 .4h24v20.5H0z"></path></clipPath></defs></svg></a><a variant="text" href="/code/" target="_blank" aria-label="Github"><span class="navbar-icon-github" style="width:22px;height:22px;display:inline-block"></span></a><a variant="text" href="/chat/" target="_blank" aria-label="Discord"><span class="navbar-icon-discord" style="width:22px;height:22px;display:inline-block"></span></a></div></span></div><div class="half right" style="display:flex;flex:1"><div style="display:flex"><div class="footer-links min-width-180-135"><a variant="text" href="/overview.html" target="">Docs</a><a variant="text" href="/replication.html" target="">Sync</a><a variant="text" href="/rx-storage.html" target="">Storages</a><a variant="text" href="/premium/" target="_blank">Premium</a><a variant="text" href="/consulting/" target="_blank">Support</a></div><div class="footer-links min-width-180-135"><a variant="text" href="/#reviews" target="">Our Customers</a><a variant="text" href="/legal-notice/" target="_blank">Legal Notice</a></div></div></div></div></div><div class="navbar-line" style="display:block;z-index:10;height:1.5px;background-color:var(--color-top);border-top-right-radius:2px;border-bottom-right-radius:2px;width:100%"></div><div class="call-to-action-popup"><div class="close"><div class="text">âœ•</div></div></div></div>
</body>
</html>